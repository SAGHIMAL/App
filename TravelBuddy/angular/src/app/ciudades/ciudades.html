<div class="container">
  <div class="card">
    
    <div class="card-header">
      <div class="card-title">
        <h3>Buscador de Ciudades</h3>
      </div>
    </div>

    <div class="card-body">
      
      <form class="row row-cols-lg-auto g-3 align-items-center mb-4" (ngSubmit)="onSearchChange(textoBusqueda)">
        
        <div class="col-12">
          <div class="input-group">
            <input 
              type="text" 
              class="form-control" 
              placeholder="Ingrese nombre (ej. Rio)..." 
              [(ngModel)]="textoBusqueda" 
              (ngModelChange)="onSearchChange($event)"
              name="textoBusqueda" 
            />
          </div>
        </div>

        <div class="col-12">
          <button type="submit" class="btn btn-primary" [disabled]="cargando">
            <i class="fa fa-search me-1"></i>
            {{ cargando ? 'Buscando...' : 'Buscar' }}
          </button>
        </div>

      </form>

      <div *ngIf="ciudades.length > 0">
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th>ID</th>
              <th>Nombre</th>
              <th>País</th>
              <th>Región</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let ciudad of ciudades">
              <td>{{ ciudad.id }}</td>
              <td>{{ ciudad.nombre }}</td>
              <td>{{ ciudad.pais }}</td>
              <td>{{ ciudad.region }}</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div *ngIf="ciudades.length === 0 && !cargando && textoBusqueda.length > 0" class="alert alert-light mt-3">
        <small class="text-muted">No hay resultados para mostrar.</small>
      </div>

    </div>
  </div>
</div>